{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { addWater, deleteWaterById, getAllWaterForToday, updateWaterById, getAllWaterForMonth } from \"../../services/waterApi\";\nexport const addWaterThunk = createAsyncThunk(\"water/addWater\", async (newWater, thunkApi) => {\n  try {\n    const response = await addWater(newWater);\n    return response;\n  } catch (error) {\n    return thunkApi.rejectWithValue(error);\n  }\n});\nexport const deleteWaterThunk = createAsyncThunk(\"water/deleteWater\", async (entryId, thunkApi) => {\n  const {\n    water\n  } = thunkApi.getState();\n  if (water.today === null) return;\n  const _id = water.today._id;\n  try {\n    const response = await deleteWaterById(_id, entryId);\n    return response;\n  } catch (error) {\n    return thunkApi.rejectWithValue(error);\n  }\n});\nexport const updateWaterByIdThunk = createAsyncThunk(\"water/updateEntryWater\", async (data, thunkApi) => {\n  const {\n    entryId,\n    body\n  } = data;\n  // const state = <RootState>thunkApi.getState();\n  // const today = state.water.today;\n\n  const _id = null;\n  if (!_id) return;\n  try {\n    const response = await updateWaterById(_id, entryId, body);\n    return response;\n  } catch (error) {\n    return thunkApi.rejectWithValue(error);\n  }\n});\nexport const getAllWaterForTodayThunk = createAsyncThunk(\"water/getTodayWater\", async (_, thunkApi) => {\n  try {\n    const response = await getAllWaterForToday();\n    return response;\n  } catch (error) {\n    return thunkApi.rejectWithValue(error);\n  }\n});\nexport const getAllWaterForMonthThunk = createAsyncThunk(\"water/getMonthWater\", async (data, thunkApi) => {\n  const {\n    year,\n    month\n  } = data;\n  try {\n    const response = await getAllWaterForMonth(year, month);\n    return response;\n  } catch (error) {\n    return thunkApi.rejectWithValue(error);\n  }\n});","map":{"version":3,"names":["createAsyncThunk","addWater","deleteWaterById","getAllWaterForToday","updateWaterById","getAllWaterForMonth","addWaterThunk","newWater","thunkApi","response","error","rejectWithValue","deleteWaterThunk","entryId","water","getState","today","_id","updateWaterByIdThunk","data","body","getAllWaterForTodayThunk","_","getAllWaterForMonthThunk","year","month"],"sources":["D:/Web/aqua-frontend/src/redux/waterConsumption/operations.ts"],"sourcesContent":["import { createAsyncThunk } from \"@reduxjs/toolkit\";\r\n\r\nimport {\r\n  addWater,\r\n  deleteWaterById,\r\n  getAllWaterForToday,\r\n  updateWaterById,\r\n  getAllWaterForMonth,\r\n} from \"../../services/waterApi\";\r\n\r\nimport { RootState } from \"../store\";\r\nimport { IDdailyEntry } from \"../../types\";\r\n\r\nexport const addWaterThunk = createAsyncThunk(\r\n  \"water/addWater\",\r\n  async (newWater: IDdailyEntry, thunkApi) => {\r\n    try {\r\n      const response = await addWater(newWater);\r\n      return response;\r\n    } catch (error) {\r\n      return thunkApi.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const deleteWaterThunk = createAsyncThunk(\r\n  \"water/deleteWater\",\r\n  async (entryId: string, thunkApi) => {\r\n    const { water } = thunkApi.getState() as RootState;\r\n\r\n    if (water.today === null) return;\r\n\r\n    const _id: string = water.today._id;\r\n\r\n    try {\r\n      const response = await deleteWaterById(_id, entryId);\r\n      return response;\r\n    } catch (error) {\r\n      return thunkApi.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateWaterByIdThunk = createAsyncThunk(\r\n  \"water/updateEntryWater\",\r\n  async (data: { entryId: string; body: IDdailyEntry }, thunkApi) => {\r\n    const { entryId, body } = data;\r\n    // const state = <RootState>thunkApi.getState();\r\n    // const today = state.water.today;\r\n\r\n    const _id = null;\r\n\r\n    if (!_id) return;\r\n\r\n    try {\r\n      const response = await updateWaterById(_id, entryId, body);\r\n      return response;\r\n    } catch (error) {\r\n      return thunkApi.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getAllWaterForTodayThunk = createAsyncThunk(\r\n  \"water/getTodayWater\",\r\n  async (_, thunkApi) => {\r\n    try {\r\n      const response = await getAllWaterForToday();\r\n      return response;\r\n    } catch (error) {\r\n      return thunkApi.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getAllWaterForMonthThunk = createAsyncThunk(\r\n  \"water/getMonthWater\",\r\n  async (data: { year: string; month: string }, thunkApi) => {\r\n    const { year, month } = data;\r\n    try {\r\n      const response = await getAllWaterForMonth(year, month);\r\n      return response;\r\n    } catch (error) {\r\n      return thunkApi.rejectWithValue(error);\r\n    }\r\n  }\r\n);\r\n"],"mappings":"AAAA,SAASA,gBAAgB,QAAQ,kBAAkB;AAEnD,SACEC,QAAQ,EACRC,eAAe,EACfC,mBAAmB,EACnBC,eAAe,EACfC,mBAAmB,QACd,yBAAyB;AAKhC,OAAO,MAAMC,aAAa,GAAGN,gBAAgB,CAC3C,gBAAgB,EAChB,OAAOO,QAAsB,EAAEC,QAAQ,KAAK;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,QAAQ,CAACM,QAAQ,CAAC;IACzC,OAAOE,QAAQ;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOF,QAAQ,CAACG,eAAe,CAACD,KAAK,CAAC;EACxC;AACF,CACF,CAAC;AAED,OAAO,MAAME,gBAAgB,GAAGZ,gBAAgB,CAC9C,mBAAmB,EACnB,OAAOa,OAAe,EAAEL,QAAQ,KAAK;EACnC,MAAM;IAAEM;EAAM,CAAC,GAAGN,QAAQ,CAACO,QAAQ,CAAC,CAAc;EAElD,IAAID,KAAK,CAACE,KAAK,KAAK,IAAI,EAAE;EAE1B,MAAMC,GAAW,GAAGH,KAAK,CAACE,KAAK,CAACC,GAAG;EAEnC,IAAI;IACF,MAAMR,QAAQ,GAAG,MAAMP,eAAe,CAACe,GAAG,EAAEJ,OAAO,CAAC;IACpD,OAAOJ,QAAQ;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOF,QAAQ,CAACG,eAAe,CAACD,KAAK,CAAC;EACxC;AACF,CACF,CAAC;AAED,OAAO,MAAMQ,oBAAoB,GAAGlB,gBAAgB,CAClD,wBAAwB,EACxB,OAAOmB,IAA6C,EAAEX,QAAQ,KAAK;EACjE,MAAM;IAAEK,OAAO;IAAEO;EAAK,CAAC,GAAGD,IAAI;EAC9B;EACA;;EAEA,MAAMF,GAAG,GAAG,IAAI;EAEhB,IAAI,CAACA,GAAG,EAAE;EAEV,IAAI;IACF,MAAMR,QAAQ,GAAG,MAAML,eAAe,CAACa,GAAG,EAAEJ,OAAO,EAAEO,IAAI,CAAC;IAC1D,OAAOX,QAAQ;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOF,QAAQ,CAACG,eAAe,CAACD,KAAK,CAAC;EACxC;AACF,CACF,CAAC;AAED,OAAO,MAAMW,wBAAwB,GAAGrB,gBAAgB,CACtD,qBAAqB,EACrB,OAAOsB,CAAC,EAAEd,QAAQ,KAAK;EACrB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMN,mBAAmB,CAAC,CAAC;IAC5C,OAAOM,QAAQ;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOF,QAAQ,CAACG,eAAe,CAACD,KAAK,CAAC;EACxC;AACF,CACF,CAAC;AAED,OAAO,MAAMa,wBAAwB,GAAGvB,gBAAgB,CACtD,qBAAqB,EACrB,OAAOmB,IAAqC,EAAEX,QAAQ,KAAK;EACzD,MAAM;IAAEgB,IAAI;IAAEC;EAAM,CAAC,GAAGN,IAAI;EAC5B,IAAI;IACF,MAAMV,QAAQ,GAAG,MAAMJ,mBAAmB,CAACmB,IAAI,EAAEC,KAAK,CAAC;IACvD,OAAOhB,QAAQ;EACjB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,OAAOF,QAAQ,CAACG,eAAe,CAACD,KAAK,CAAC;EACxC;AACF,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}