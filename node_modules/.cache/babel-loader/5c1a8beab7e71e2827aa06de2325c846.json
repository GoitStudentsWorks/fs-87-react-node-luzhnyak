{"ast":null,"code":"import axios from 'axios';\naxios.defaults.baseURL = 'http://127.0.0.1:3000';\nexport const setToken = token => {\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n};\nexport const clearToken = () => {\n  axios.defaults.headers.common.Authorization = '';\n};\n\n//==========================Authorization\n\nexport const requestUserSignUp = async formData => {\n  const {\n    data\n  } = await axios.post('/users/signup', formData);\n  setToken(data.token);\n  return data;\n};\nexport const requestUserLogin = async formData => {\n  const {\n    data\n  } = await axios.post('/users/login', formData);\n  setToken(data.token);\n  return data;\n};\nexport const requestUserLogout = async () => {\n  await axios.post('/users/logout');\n};\nexport const refreshCurrentUser = async () => {\n  const {\n    data\n  } = await axios.get('/users/current');\n  return data;\n};\nexport const updateUserAvatar = async newAvatar => {\n  const formData = new FormData();\n  formData.append('avatar', newAvatar);\n  const {\n    data\n  } = await axios.patch('users/avatars', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  });\n  return data.avatarURL;\n};\nexport const updateUserInfo = async formData => {\n  const {\n    data\n  } = await axios.patch('/users/current', formData);\n  // {\n  //   headers: {\n  //     'Content-Type': 'application/json',\n  //   },\n  // });\n  return data;\n};\n\n//TODO: change route\n\nexport const updateWaterNorma = async newWaterRate => {\n  const {\n    data\n  } = await axios.patch('/users/current', newWaterRate);\n  return data;\n};\n\n//==========================WaterData","map":{"version":3,"names":["axios","defaults","baseURL","setToken","token","headers","common","Authorization","clearToken","requestUserSignUp","formData","data","post","requestUserLogin","requestUserLogout","refreshCurrentUser","get","updateUserAvatar","newAvatar","FormData","append","patch","avatarURL","updateUserInfo","updateWaterNorma","newWaterRate"],"sources":["D:/Web/aqua-frontend/src/services/waterApi.js"],"sourcesContent":["import axios from 'axios';\r\n\r\naxios.defaults.baseURL = 'http://127.0.0.1:3000';\r\n\r\nexport const setToken = token => {\r\n  axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n};\r\n\r\nexport const clearToken = () => {\r\n  axios.defaults.headers.common.Authorization = '';\r\n};\r\n\r\n//==========================Authorization\r\n\r\nexport const requestUserSignUp = async formData => {\r\n  const { data } = await axios.post('/users/signup', formData);\r\n  setToken(data.token);\r\n  return data;\r\n};\r\n\r\nexport const requestUserLogin = async formData => {\r\n  const { data } = await axios.post('/users/login', formData);\r\n  setToken(data.token);\r\n  return data;\r\n};\r\n\r\nexport const requestUserLogout = async () => {\r\n  await axios.post('/users/logout');\r\n};\r\n\r\nexport const refreshCurrentUser = async () => {\r\n  const { data } = await axios.get('/users/current');\r\n  return data;\r\n};\r\n\r\nexport const updateUserAvatar = async newAvatar => {\r\n  const formData = new FormData();\r\n  formData.append('avatar', newAvatar);\r\n  const { data } = await axios.patch('users/avatars', formData, {\r\n    headers: { 'Content-Type': 'multipart/form-data' },\r\n  });\r\n  return data.avatarURL;\r\n};\r\n\r\nexport const updateUserInfo = async formData => {\r\n  const { data } = await axios.patch('/users/current', formData);\r\n  // {\r\n  //   headers: {\r\n  //     'Content-Type': 'application/json',\r\n  //   },\r\n  // });\r\n  return data;\r\n};\r\n\r\n//TODO: change route\r\n\r\nexport const updateWaterNorma = async newWaterRate => {\r\n  const { data } = await axios.patch('/users/current', newWaterRate);\r\n  return data;\r\n};\r\n\r\n//==========================WaterData\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzBA,KAAK,CAACC,QAAQ,CAACC,OAAO,GAAG,uBAAuB;AAEhD,OAAO,MAAMC,QAAQ,GAAGC,KAAK,IAAI;EAC/BJ,KAAK,CAACC,QAAQ,CAACI,OAAO,CAACC,MAAM,CAACC,aAAa,GAAI,UAASH,KAAM,EAAC;AACjE,CAAC;AAED,OAAO,MAAMI,UAAU,GAAGA,CAAA,KAAM;EAC9BR,KAAK,CAACC,QAAQ,CAACI,OAAO,CAACC,MAAM,CAACC,aAAa,GAAG,EAAE;AAClD,CAAC;;AAED;;AAEA,OAAO,MAAME,iBAAiB,GAAG,MAAMC,QAAQ,IAAI;EACjD,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,eAAe,EAAEF,QAAQ,CAAC;EAC5DP,QAAQ,CAACQ,IAAI,CAACP,KAAK,CAAC;EACpB,OAAOO,IAAI;AACb,CAAC;AAED,OAAO,MAAME,gBAAgB,GAAG,MAAMH,QAAQ,IAAI;EAChD,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACY,IAAI,CAAC,cAAc,EAAEF,QAAQ,CAAC;EAC3DP,QAAQ,CAACQ,IAAI,CAACP,KAAK,CAAC;EACpB,OAAOO,IAAI;AACb,CAAC;AAED,OAAO,MAAMG,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EAC3C,MAAMd,KAAK,CAACY,IAAI,CAAC,eAAe,CAAC;AACnC,CAAC;AAED,OAAO,MAAMG,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EAC5C,MAAM;IAAEJ;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACgB,GAAG,CAAC,gBAAgB,CAAC;EAClD,OAAOL,IAAI;AACb,CAAC;AAED,OAAO,MAAMM,gBAAgB,GAAG,MAAMC,SAAS,IAAI;EACjD,MAAMR,QAAQ,GAAG,IAAIS,QAAQ,CAAC,CAAC;EAC/BT,QAAQ,CAACU,MAAM,CAAC,QAAQ,EAAEF,SAAS,CAAC;EACpC,MAAM;IAAEP;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACqB,KAAK,CAAC,eAAe,EAAEX,QAAQ,EAAE;IAC5DL,OAAO,EAAE;MAAE,cAAc,EAAE;IAAsB;EACnD,CAAC,CAAC;EACF,OAAOM,IAAI,CAACW,SAAS;AACvB,CAAC;AAED,OAAO,MAAMC,cAAc,GAAG,MAAMb,QAAQ,IAAI;EAC9C,MAAM;IAAEC;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACqB,KAAK,CAAC,gBAAgB,EAAEX,QAAQ,CAAC;EAC9D;EACA;EACA;EACA;EACA;EACA,OAAOC,IAAI;AACb,CAAC;;AAED;;AAEA,OAAO,MAAMa,gBAAgB,GAAG,MAAMC,YAAY,IAAI;EACpD,MAAM;IAAEd;EAAK,CAAC,GAAG,MAAMX,KAAK,CAACqB,KAAK,CAAC,gBAAgB,EAAEI,YAAY,CAAC;EAClE,OAAOd,IAAI;AACb,CAAC;;AAED"},"metadata":{},"sourceType":"module"}